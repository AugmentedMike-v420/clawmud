# CM-010: Cyberware System

**Type:** feature  
**Priority:** high  
**Status:** Done  
**Completed:** 2025-02-01

## Summary
Design and implement a cyberware/implant system â€” the core mechanic that makes this a cyberpunk MUD.

## Requirements

### Cyberware Slots
- **Neural:** Interface plugs, reflex boosters, memory chips
- **Optics:** Cybereyes, targeting systems, low-light, zoom
- **Arms:** Cyberarms, mantis blades, gorilla arms, grapple
- **Legs:** Cyberlegs, jump boosters, speed enhancers
- **Torso:** Subdermal armor, internal storage, toxin filters
- **Circulatory:** Adrenaline boosters, nanobots, pain editors

### Humanity/Chrome Cost
- Each implant costs "Humanity" or "Essence"
- Too much chrome = cyberpsychosis risk
- Creates meaningful tradeoffs
- Ties into RP (how much of you is still human?)

### Core Mechanics
- [x] Slot system (limited slots per body area)
- [x] Humanity tracking
- [x] Cyberpsychosis thresholds and effects
- [x] Installation (ripperdocs, cost, risk)
- [x] Quality tiers (street, standard, corp, milspec, prototype)
- [ ] Maintenance/degradation (optional - future enhancement)

### Integration Points
- Combat bonuses (CM-009) - hooks provided
- Skill bonuses - hooks provided
- Zone access (some areas need specific implants) - hooks provided
- Social penalties (corps distrust heavy chrome) - implemented

## Design Document
See: `/docs/design/cyberware.md`

## Implementation

### Files Created

#### Core Modules (`lib/pymodules/cyberware/`)
- `__init__.py` - Module exports and package initialization
- `cyberware.py` - Core cyberware system:
  - `CyberwareAuxData` - Character cyberware storage
  - `Cyberware` / `InstalledCyberware` - Data classes
  - Catalog loading from JSON
  - Slot management
  - Commands: `chrome`, `cyberware`
- `humanity.py` - Humanity tracking and cyberpsychosis:
  - `HumanityAuxData` - Character humanity storage
  - Threshold system with social modifiers
  - Cyberpsychosis episodes (dissociation, paranoia, rage, full break)
  - Therapy recovery system
  - Commands: `humanity`, `therapy`
- `ripperdoc.py` - Installation mechanics:
  - Ripperdoc types (street doc, licensed clinic, corp hospital, black clinic)
  - Installation checks with DC system
  - Complications table (infection, glitches, rejection, etc.)
  - Commands: `install`, `remove`, `ripperdoc`

#### Data Files
- `lib/misc/cyberware` - JSON catalog with 70+ cyberware items:
  - 8 Neural cyberware items
  - 8 Ocular cyberware items  
  - 16 Arm cyberware items (left/right variants)
  - 16 Leg cyberware items (left/right variants)
  - 8 Torso cyberware items
  - 6 Circulatory cyberware items
  - 5 Skin cyberware items
  - 4 Audio cyberware items

### Key Features

1. **Body Slots System**
   - 10 locations: neural(3), ocular(2), audio(2), arm_l(2), arm_r(2), leg_l(2), leg_r(2), torso(4), circulatory(2), skin(2)
   - Cyberware requires specific slots
   - Some cyberware (eye mods) require base platform first

2. **Quality Tiers**
   - Street: 1.5x humanity, 0.5x price, DC 10
   - Standard: 1.0x humanity, 1.0x price, DC 15
   - Corp: 0.75x humanity, 3.0x price, DC 18
   - Milspec: 0.5x humanity, 10x price, DC 22
   - Prototype: 0.25x humanity, 25x price, DC 25

3. **Humanity Thresholds**
   - 100-71: Human (no penalties)
   - 70-41: Chromed (-1 social)
   - 40-21: Heavy Chrome (-2 social)
   - 20-11: Bordering (-3 social, therapy required)
   - 10-1: Cyberpsycho Risk (daily checks)
   - 0: Full cyberpsychosis (character becomes NPC)

4. **Installation System**
   - Roll-based with DC
   - Success/Partial/Complication/Rejection results
   - 10-entry complications table
   - Ripperdoc bonuses affect success rate

5. **Hooks for Integration**
   - `cyberware_installed` / `cyberware_removed`
   - `cyberware_apply_effects` / `cyberware_remove_effects`
   - `humanity_change` / `humanity_threshold_crossed`
   - `cyberpsychosis_episode` / `cyberpsychosis_full`
   - `cyberware_complication_*` hooks for damage/penalties

## Acceptance Criteria
- [x] Cyberware design doc complete
- [x] Slot system defined
- [x] Humanity/cyberpsychosis mechanics documented
- [x] Sample implants for each slot
- [x] Implementation plan with data structures
- [x] Core modules implemented
- [x] Data file with all cyberware items

## Commands Reference

### Player Commands
- `chrome` - View installed cyberware and humanity status
- `cyberware [category|name]` - Browse cyberware catalog
- `humanity` - Detailed humanity status
- `therapy` - Attempt therapy session
- `ripperdoc` - View ripperdoc types

### Admin Commands
- `install <id> [quality] [doc_type]` - Install cyberware
- `remove <id>` - Remove cyberware

## Notes
- Balance power vs humanity cost
- Should feel like meaningful character choices
- Reference: Cyberpunk RED, Shadowrun, but original
- Future: Integrate with combat system bonuses (CM-009)
- Future: Add maintenance/degradation mechanics
